<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Squad Lineup</title>
  <style>
    :root {
      --accent-color: #000000;
      --text-color: #ffffff;
    }

    body {
      background: var(--accent-color);
      color: var(--text-color);
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      padding: 40px 20px;
      text-align: center;
    }

    h1 {
      font-size: 2.2rem;
      margin-bottom: 10px;
    }

    h2 {
      margin-top: 40px;
      font-size: 1.5rem;
    }

    .player-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 20px;
      margin-top: 16px;
      max-width: 1000px;
      margin-left: auto;
      margin-right: auto;
    }

    .card {
      background: rgba(255,255,255,0.1);
      border: 1px solid rgba(255,255,255,0.2);
      padding: 14px;
      border-radius: 8px;
      text-align: left;
    }

    .card .name {
      font-weight: bold;
      font-size: 1.1rem;
    }

    .card .meta {
      font-size: 0.9rem;
      margin-top: 4px;
      opacity: 0.85;
    }

    .back-button {
      margin-top: 50px;
      padding: 12px 20px;
      font-size: 1rem;
      background: rgba(255,255,255,0.2);
      color: var(--text-color);
      border: none;
      border-radius: 6px;
      cursor: pointer;
      transition: background 0.3s ease;
    }

    .back-button:hover {
      background: rgba(255,255,255,0.35);
    }
  </style>
</head>
<body>
  <h1 id="club-name">Loading...</h1>

  <h2>Starting 11</h2>
  <div class="player-grid" id="starting"></div>

  <h2>Substitutes</h2>
  <div class="player-grid" id="subs"></div>

  <button class="back-button" onclick="window.location.href='dashboard.html'">← Back to Dashboard</button>

  <script>
    const team = localStorage.getItem("selectedTeam") || "Unknown";
    document.getElementById("club-name").textContent = `${team} Lineup`;

    const squads = {
      "Arsenal": {
        starters: [
          { name: "David Raya", position: "GK", rating: 83 },
          { name: "Ben White", position: "RB", rating: 81 },
          { name: "William Saliba", position: "CB", rating: 84 },
          { name: "Gabriel", position: "CB", rating: 83 },
          { name: "Zinchenko", position: "LB", rating: 81 },
          { name: "Declan Rice", position: "CDM", rating: 86 },
          { name: "Ødegaard", position: "CAM", rating: 87 },
          { name: "Saka", position: "RW", rating: 88 },
          { name: "Gabriel Jesus", position: "ST", rating: 84 },
          { name: "Havertz", position: "CM", rating: 81 },
          { name: "Trossard", position: "LW", rating: 80 }
        ],
        subs: [
          { name: "Ramsdale", position: "GK", rating: 82 },
          { name: "Tomiyasu", position: "DEF", rating: 78 },
          { name: "Smith Rowe", position: "MID", rating: 79 },
          { name: "Nketiah", position: "ST", rating: 77 }
        ],
        color: "#a00000"
      }
    };

    const data = squads[team];

    function setTheme(hex) {
      document.documentElement.style.setProperty("--accent-color", hex);
      const r = parseInt(hex.slice(1,3), 16);
      const g = parseInt(hex.slice(3,5), 16);
      const b = parseInt(hex.slice(5,7), 16);
      const brightness = (r * 299 + g * 587 + b * 114) / 1000;
      const text = brightness < 128 ? "#ffffff" : "#000000";
      document.documentElement.style.setProperty("--text-color", text);
    }

    function show(players, id) {
      const box = document.getElementById(id);
      box.innerHTML = "";
      players.forEach(p => {
        const card = document.createElement("div");
        card.className = "card";
        card.innerHTML = `<div class="name">${p.name}</div><div class="meta">${p.position} • Rating: ${p.rating}</div>`;
        box.appendChild(card);
      });
    }

    if (data) {
      show(data.starters, "starting");
      show(data.subs, "subs");
      setTheme(data.color);
    } else {
      document.getElementById("starting").innerHTML = "<div>No lineup found for this club.</div>";
    }
  </script>
</body>
</html>
